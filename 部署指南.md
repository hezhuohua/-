# 🚀 永续合约预测系统 - 部署指南

## 📋 部署概览

本指南将帮助您完成永续合约预测系统的完整部署流程，包括本地开发环境、Git版本控制和自动部署。

## 🛠️ 系统要求

### 基础要求
- **操作系统**: Windows 10/11, macOS, Linux
- **Node.js**: 版本 16.0.0 或更高
- **Git**: 版本 2.0.0 或更高
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+

### 推荐配置
- **内存**: 8GB RAM 或更高
- **存储**: 2GB 可用空间
- **网络**: 稳定的互联网连接

## 📦 安装步骤

### 1. 克隆项目
```bash
git clone https://github.com/hezhuohua/-.git
cd 永续合约预测系统开发
```

### 2. 安装依赖
```bash
npm install
```

### 3. 启动开发服务器
```bash
npm start
```

## 🌐 访问地址

启动成功后，您可以通过以下地址访问系统：

### 本地访问
- **主地址**: http://127.0.0.1:8088
- **备用地址**: http://localhost:8088

### 局域网访问
- **IP地址**: http://192.168.101.202:8088
- **外部地址**: http://198.18.0.1:8088

### 在线部署
- **GitHub Pages**: https://hezhuohua.github.io/-
- **GitHub仓库**: https://github.com/hezhuohua/-

## 🔧 部署方式

### 方式一：使用部署脚本（推荐）

#### Windows批处理脚本
```bash
# 双击运行
deploy.bat

# 或命令行运行
.\deploy.bat
```

#### PowerShell脚本
```powershell
# 运行PowerShell脚本
.\deploy.ps1
```

### 方式二：手动部署

#### 1. 更新代码
```bash
git add .
git commit -m "更新系统功能"
git push origin master
```

#### 2. 启动服务器
```bash
npm start
```

### 方式三：GitHub Actions自动部署

系统已配置GitHub Actions工作流，当您推送代码到master分支时，会自动触发部署：

1. 推送代码到GitHub
2. GitHub Actions自动构建和部署
3. 部署完成后可通过GitHub Pages访问

## 📱 移动端访问

### 手机浏览器访问
1. 确保手机和电脑在同一网络
2. 在手机浏览器中输入：`http://192.168.101.202:8088`
3. 系统会自动适配移动端界面

### 二维码访问
1. 在电脑上访问系统
2. 使用手机扫描页面上的二维码
3. 直接跳转到移动端界面

## 🔍 故障排除

### 常见问题

#### 1. 端口被占用
```bash
# 查看端口占用
netstat -ano | findstr :8088

# 结束占用进程
taskkill /PID <进程ID> /F

# 使用其他端口
npx http-server -p 8089 -o
```

#### 2. 依赖安装失败
```bash
# 清除npm缓存
npm cache clean --force

# 重新安装依赖
rm -rf node_modules package-lock.json
npm install
```

#### 3. Git推送失败
```bash
# 检查远程仓库
git remote -v

# 重新设置远程仓库
git remote set-url origin https://github.com/hezhuohua/-.git

# 强制推送（谨慎使用）
git push origin master --force
```

#### 4. 实时价格显示异常
- 检查网络连接
- 确认CoinGecko API可访问
- 查看浏览器控制台错误信息

### 日志查看

#### 服务器日志
```bash
# 查看HTTP服务器日志
npx http-server -p 8088 -o --log-ip
```

#### Git日志
```bash
# 查看提交历史
git log --oneline -10

# 查看文件变更
git status
```

## 🔐 安全配置

### 生产环境部署

#### 1. 环境变量配置
```bash
# 创建环境变量文件
echo "NODE_ENV=production" > .env
echo "API_KEY=your_api_key" >> .env
```

#### 2. HTTPS配置
```bash
# 使用HTTPS启动服务器
npx http-server -p 8088 -o -S -C cert.pem -K key.pem
```

#### 3. 防火墙配置
```bash
# Windows防火墙
netsh advfirewall firewall add rule name="永续合约预测系统" dir=in action=allow protocol=TCP localport=8088

# Linux防火墙
sudo ufw allow 8088
```

## 📊 监控和维护

### 系统监控

#### 1. 性能监控
- 使用浏览器开发者工具监控页面加载时间
- 检查内存使用情况
- 监控API响应时间

#### 2. 错误监控
- 查看浏览器控制台错误
- 监控网络请求状态
- 检查实时价格API状态

### 定期维护

#### 1. 代码更新
```bash
# 拉取最新代码
git pull origin master

# 更新依赖
npm update
```

#### 2. 数据备份
```bash
# 备份重要文件
cp index.html backup/index.html.$(date +%Y%m%d)
cp package.json backup/package.json.$(date +%Y%m%d)
```

#### 3. 日志清理
```bash
# 清理旧日志文件
find . -name "*.log" -mtime +7 -delete
```

## 🎯 部署检查清单

### 部署前检查
- [ ] 代码已通过测试
- [ ] 依赖已正确安装
- [ ] 配置文件已更新
- [ ] 环境变量已设置

### 部署后验证
- [ ] 系统可以正常访问
- [ ] 实时价格功能正常
- [ ] 移动端适配正常
- [ ] 所有功能模块正常

### 性能验证
- [ ] 页面加载时间 < 3秒
- [ ] API响应时间 < 2秒
- [ ] 内存使用正常
- [ ] 网络连接稳定

## 📞 技术支持

### 联系方式
- **GitHub Issues**: https://github.com/hezhuohua/-/issues
- **邮箱支持**: 通过GitHub Issues联系
- **文档更新**: 查看README.md获取最新信息

### 社区支持
- **GitHub Discussions**: https://github.com/hezhuohua/-/discussions
- **Wiki文档**: https://github.com/hezhuohua/-/wiki

## 📈 版本历史

### v2.0.0 (当前版本)
- ✅ 集成实时价格显示功能
- ✅ 优化移动端响应式设计
- ✅ 完善错误处理机制
- ✅ 增强用户体验

### v1.0.0
- ✅ 基础系统功能
- ✅ AI预测模块
- ✅ 交易信号系统

---

**© 2025 永续合约预测系统 - 专业级部署指南**
